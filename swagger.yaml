openapi: 3.0.0
info:
  version: 1.1.0
  title: SIMPL Rest API
  description: API for managing user accounts and their details.
servers:
- url: http://localhost:5000
  description: Local server
- url: https://5p7ne0s78c.execute-api.eu-central-1.amazonaws.com
  description: Development server
- url: https://4rq0wzrrs6.execute-api.eu-central-1.amazonaws.com
  description: Staging - Bear marketing server
security:
- BearerAuth: []
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    AbsenceDefaultsDTO:
      type: object
      description: Default configuration for the absence module.
      properties:
        defaultDaysPerYear:
          type: integer
          description: Default number of absence days for newly created users.
        defaultCarryOverDays:
          type: integer
          description: Default number of days that can be carried over to next year.
        defaultCategories:
          type: array
          description: Default categories assigned to new users.
          items:
            type: string
        yearStartMonth:
          type: integer
          description: Month when the absence year starts (1-12).
          minimum: 1
          maximum: 12
    Pagination:
      type: object
      properties:
        currentPage:
          type: integer
          description: The current page number being displayed.
          minimum: 1
        totalPages:
          type: integer
          description: The total number of pages available.
        totalItems:
          type: integer
          description: The total number of items across all pages.
      required:
      - currentPage
      - totalPages
      - totalItems
    AbsenceRequestDTO:
      type: object
      properties:
        id:
          type: string
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        createdAt:
          type: string
          format: date-time
        changedAt:
          type: string
          format: date-time
        createdBy:
          $ref: '#/components/schemas/EmployeeDTO'
        allowedActions:
          type: array
          items:
            type: string
        status:
          $ref: '#/components/schemas/AbsenceRequestStatusEnum'
        daysOffRequested:
          type: integer
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        categories:
          type: array
          items:
            $ref: '#/components/schemas/AbsenceCategoryDTO'
        subcategories:
          type: array
          items:
            $ref: '#/components/schemas/AbsenceCategoryDTO'
    RequestStatusHistoryDTO:
      type: object
      properties:
        status:
          $ref: '#/components/schemas/AbsenceRequestStatusEnum'
          description: Current status of the request (e.g., Pending, Approved, etc.).
        changedAt:
          type: string
          format: date-time
          description: Timestamp of when the request status was last changed.
        changedBy:
          $ref: '#/components/schemas/EmployeeDTO'
        note:
          type: string
          description: Note associated with the status change.
    DepartmentDTO:
      type: object
      properties:
        id:
          type: string
          description: The unique identifier of the department.
        departmentName:
          type: string
          description: The name of the team.
        departmentDescription:
          type: string
          description: A description of the team within the department.
      required:
      - id
      - departmentName
    EmployeeDTO:
      type: object
      description: Data transfer object representing an employee.
      properties:
        id:
          type: string
          format: uuid
          description: The unique identifier of the employee.
        firstName:
          type: string
          description: The first name of the employee.
        lastName:
          type: string
          description: The last name of the employee.
        jobTitle:
          type: string
          description: The job title of the employee within the organization.
        department:
          $ref: '#/components/schemas/DepartmentDTO'
        email:
          type: string
          description: The email of the employee.
        avatarUrl:
          type: string
          description: The URL of the employee's avatar.
        createdAt:
          type: string
          format: date-time
          description: The date and time the employee was created.
      required:
      - id
      - firstName
      - lastName
    EmployeeAbsenceBalanceDTO:
      type: object
      description: Data transfer object representing an employee's absence module
        details.
      properties:
        requestCategories:
          type: array
          items:
            $ref: '#/components/schemas/AbsenceCategoryDTO'
        supervisors:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
        supervisees:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
        representatives:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
        representees:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
        employeeAbsenceInfo:
          $ref: '#/components/schemas/EmployeeAbsenceInfoDTO'
    EmployeeAbsenceInfoDTO:
      type: object
      description: Data transfer object representing an employee's absence module
        information.
      properties:
        longestAbsence:
          type: number
          format: integer
          description: The longest absence duration of the employee in days.
        nextAbsence:
          type: string
          format: date-time
          description: The date and time of the next absence for the employee.
        quarterlyAbsences:
          type: array
          items:
            type: object
            properties:
              year:
                type: integer
                description: The year of the quarterly absence.
              quarter:
                type: integer
                description: The quarter of the year (1-4).
              daysOff:
                type: integer
                description: The number of days off taken in that quarter.
    ProfileDTO:
      type: object
      properties:
        id:
          type: string
          description: The unique identifier for the user's profile.
        email:
          type: string
          format: email
          description: The email address associated with the user's profile.
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        language:
          type: string
          description: The language preference code for the user's profile.
        notifications:
          description: A list of notification types associated with the user's profile.
          type: array
          items:
            $ref: '#/components/schemas/NotificationTypeDTO'
    NotificationTypeDTO:
      type: object
      properties:
        id:
          type: string
          description: The unique identifier for the notification type.
        name:
          type: string
          description: The name of the notification type.
        description:
          type: string
          description: A description of the notification type.
        isActive:
          type: boolean
          description: Indicates whether the notification type is active.
    WorkspaceSessionDTO:
      type: object
      properties:
        currentUser:
          $ref: '#/components/schemas/ProfileDTO'
        permissionGroups:
          type: array
          items:
            $ref: '#/components/schemas/GroupDTO'
        permissions:
          type: array
          items:
            $ref: '#/components/schemas/PermissionDTO'
        umModule:
          type: object
          properties:
            departments:
              type: array
              items:
                $ref: '#/components/schemas/DepartmentDTO'
        absenceModule:
          type: object
          properties:
            details:
              description: Current user employee absence module details
              $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
            organisationRequestCategories:
              type: array
              items:
                $ref: '#/components/schemas/OrganisationAbsenceCategoryDTO'
    GroupDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
    PermissionDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        key:
          type: string
    AbsenceCategoryDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        remainingDaysOff:
          type: integer
        totalDaysOff:
          type: integer
        validityStartDate:
          type: string
          format: date
        validityEndDate:
          type: string
          format: date
        isTransition:
          type: boolean
        year:
          type: integer
        subcategories:
          type: array
          items:
            $ref: '#/components/schemas/AbsenceSubcategoryDTO'
    OrganisationAbsenceCategoryDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        subcategories:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              description:
                type: string
    OrganisationSettingsDTO:
      type: object
      properties:
        departments:
          type: array
          items:
            $ref: '#/components/schemas/DepartmentDTO'
    GeneralErrorDTO:
      type: object
      description: A general error data transfer object that provides details about
        an API error.
      properties:
        errorMessage:
          type: string
          description: A human-readable message providing more details about the error.
        errorCode:
          type: integer
          description: A numeric code representing the type of error.
        displayErrorMessage:
          type: string
          description: A message suitable for displaying to end-users, potentially
            less technical.
      required:
      - errorMessage
      - errorCode
      - displayErrorMessage
    EmployeeDetailsDTO:
      type: object
      properties:
        employeeId:
          type: string
          description: The unique identifier of the employee.
        data:
          type: array
          items:
            $ref: '#/components/schemas/FormCategoryConfigDTO'
          description: A JSON array containing the dynamic config (Maticni) of the
            employee.
        createdAt:
          type: string
          format: date-time
          description: The date and time the employee was created.
        changedAt:
          type: string
          format: date-time
        createdBy:
          $ref: '#/components/schemas/EmployeeDTO'
      required:
      - employeeId
    AbsenceRequestDateRangeDTO:
      type: object
      description: Data transfer object representing a Gantt date range element.
      properties:
        requestId:
          type: string
          description: The unique identifier of the request.
        startDate:
          type: string
          format: date-time
          description: The start date and time of the date range.
        endDate:
          type: string
          format: date-time
          description: The end date and time of the date range.
        typeId:
          type: string
          description: The type identifier of the date range element.
        displayText:
          type: string
          description: The display text for the date range element.
        hexBackgroundColor:
          type: string
          description: The hexadecimal color code for the background of the date range
            element.
        hexTextColor:
          type: string
          description: The hexadecimal color code for the text of the date range element.
      required:
      - requestId
      - startDate
      - endDate
      - typeId
      - displayText
      - hexBackgroundColor
      - hexTextColor
    AbsenceSpecialDateDTO:
      type: object
      description: Data transfer object representing a special date.
      properties:
        id:
          type: string
          description: Unique identifier for the special date
        date:
          type: string
          format: date-time
          description: The date of the special event
        name:
          type: string
          description: Name of the special event
        hexBackgroundColor:
          type: string
          description: Hex color code for the background color
          example: '#FFCCCC'
      required:
      - id
      - date
      - name
    FilterDTO:
      type: object
      properties:
        label:
          type: string
          description: Human-readable name of the filter.
        slug:
          type: string
          description: Slug identifier for the filter (used for querying).
        type:
          type: string
          description: Type of the filter (e.g., 'select', 'datetime', 'amount', 'text').
          enum:
          - select
          - datetime
          - amount
          - text
        options:
          type: array
          description: Available options for 'select' type filters.
          items:
            type: object
            properties:
              name:
                type: string
                description: Value of the option.
              id:
                type: string
                description: Id of the option.
            required:
            - option
            - id
        dateRange:
          $ref: '#/components/schemas/DateRangeDTO'
      required:
      - label
      - slug
    AbsenceCategorySettingsDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        hexBackgroundColor:
          type: string
        hexTextColor:
          type: string
        expirationDate:
          type: string
          format: date-time
        subcategories:
          type: array
          items:
            $ref: '#/components/schemas/AbsenceSubcategoryDTO'
    AbsenceSubcategoryDTO:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        validityStartDate:
          type: string
          format: date
        validityEndDate:
          type: string
          format: date
        remainingDaysOff:
          type: number
        totalDaysOff:
          type: number
        isTransition:
          type: boolean
    EmployeeRelationshipsDTO:
      type: object
      properties:
        supervisorEmployeeIds:
          type: array
          items:
            type: string
        representeeEmployeeIds:
          type: array
          items:
            type: string
        superviseeEmployeeIds:
          type: array
          items:
            type: string
    DateRangeDTO:
      type: object
      description: Required date range for 'datetime' type filters.
      properties:
        startDate:
          type: string
          format: date-time
          description: Start date of the range.
        endDate:
          type: string
          format: date-time
          description: End date of the range.
      required:
      - startDate
      - endDate
    AlarmConfigDTO:
      type: object
      description: Data transfer object representing an alarm configuration.
      properties:
        fieldName:
          type: string
          description: The name of the field to be used for the alarm
        label:
          type: string
          description: The label to be displayed in the UI
        formName:
          type: string
          description: The id of the form which is holding field
        title:
          type: string
          description: The title of form
        isActive:
          type: boolean
          description: Flag to indicate if the alarm is active
        startDaysBefore:
          type: integer
          description: The number of days before the alarm should start
        frequency:
          type: integer
          description: The frequency of the alarm
        changedAt:
          type: string
          format: date-time
          description: The date and time the alarm was changed
      required:
      - fieldName
      - label
    AlarmNotificationDTO:
      type: object
      description: Data transfer object representing an alarm notification.
      properties:
        label:
          type: string
          description: The name of the field to be used for the alarm
        formName:
          type: string
          description: The name of parent form
        fieldValue:
          type: string
          format: date-time
          description: The value of the field
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
      required:
      - label
      - formName
      - fieldValue
      - employee
    EmployeeFileDTO:
      type: object
      description: Data transfer object representing an employee file.
      properties:
        id:
          type: string
          description: The unique identifier of the file
        fileName:
          type: string
          description: The name of the uploaded file
        downloadPath:
          type: string
          description: The API path to get presigned download URL (e.g., /api/employees/{id}/files/{fileId}/download)
        uploadedAt:
          type: string
          format: date-time
          description: The date and time when the file was uploaded
        fileType:
          type: string
          description: The MIME type of the file (e.g., application/pdf, image/jpeg)
        fileSize:
          type: integer
          format: int64
          description: The size of the file in bytes
        uploadedBy:
          $ref: '#/components/schemas/EmployeeDTO'
          description: The Employee who uploaded the file
      required:
      - id
      - fileName
      - downloadPath
      - uploadedAt
    PresignedUploadDTO:
      type: object
      description: Data transfer object containing presigned POST URL and fields for
        S3 upload.
      properties:
        uploadUrl:
          type: string
          description: The S3 URL to upload the file to
        fields:
          type: object
          additionalProperties:
            type: string
          description: Form fields required for the multipart upload (key, policy,
            signature, etc.)
      required:
      - uploadUrl
      - fields
    EmployeeVacationStatusDTO:
      type: object
      properties:
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        vacationData:
          type: array
          items:
            $ref: '#/components/schemas/YearlyVacationDataDTO'
    YearlyVacationDataDTO:
      type: object
      properties:
        year:
          type: integer
        categoryId:
          type: string
        categoryName:
          type: string
        totalDays:
          type: integer
        spentDays:
          type: integer
        remainingDays:
          type: integer
    BulkVacationUpdateDTO:
      type: object
      properties:
        employeeId:
          type: string
        updates:
          type: array
          items:
            type: object
            properties:
              year:
                type: integer
              categoryId:
                type: string
              totalDays:
                type: integer
    EmployeeSettingsDTO:
      type: object
      properties:
        supervisorEmployeeIds:
          type: array
          items:
            type: string
          description: IDs of employees who supervise THIS employee
        representeeEmployeeIds:
          type: array
          items:
            type: string
          description: IDs of employees THIS employee represents (View Only)
        superviseeEmployeeIds:
          type: array
          items:
            type: string
          description: IDs of employees THIS employee supervises (Approve Rights)
    RequestSubcategoryConfigDTO:
      type: object
      properties:
        requestSubcategoryId:
          type: string
          nullable: true
          description: Omit to CREATE new subcategory
        requestSubcategoryName:
          type: string
        totalRequestSubcategoryDaysOff:
          type: integer
    RequestCategoryYearDTO:
      type: object
      properties:
        year:
          type: integer
        totalRequestCategoryDaysOff:
          type: integer
        subcategories:
          type: array
          items:
            $ref: '#/components/schemas/RequestSubcategoryConfigDTO'
    RequestCategoryConfigDTO:
      type: object
      properties:
        requestCategoryId:
          type: string
          nullable: true
          description: Omit to CREATE new category
        requestCategoryName:
          type: string
        requestCategoryDescription:
          type: string
        hexBackgroundColor:
          type: string
          nullable: true
        hexTextColor:
          type: string
          nullable: true
        expirationDate:
          type: string
          format: date-time
          nullable: true
        years:
          type: array
          items:
            $ref: '#/components/schemas/RequestCategoryYearDTO'
    EmployeeDataVersionDTO:
      type: object
      properties:
        id:
          type: integer
        versionName:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
      - id
      - versionName
      - createdAt
    ApiEmployeesIdVersionsPostRequest:
      type: object
      properties:
        versionName:
          type: string
        data:
          type: object
      required:
      - versionName
      - data
    AbsenceRequestStatusEnum:
      type: string
      enum:
      - Pending
      - Approved
      - Rejected
      - Canceled
    FormCategoryConfigDTO:
      type: object
      properties:
        id:
          type: string
        label:
          type: string
        fields:
          type: array
          items:
            $ref: '#/components/schemas/FormFieldConfigDTO'
    FormFieldConfigDTO:
      type: object
      properties:
        id:
          type: string
        label:
          type: string
        type:
          type: string
        value:
          nullable: true
          type: object
    ProblemDetails:
      type: object
      properties:
        type:
          type: string
          format: uri
        title:
          type: string
        status:
          type: integer
        detail:
          type: string
        instance:
          type: string
    ExportJob:
      type: object
      properties:
        jobId:
          type: string
        status:
          type: string
          enum:
          - PENDING
          - PROCESSING
          - COMPLETED
          - FAILED
        downloadUrl:
          type: string
    TimesheetStatusEnum:
      type: string
      enum:
      - Draft
      - Submitted
      - Approved
      - Rejected
      - RevisionRequested
    TimeEntryTypeEnum:
      type: string
      enum:
      - Regular
      - Absence
      - Holiday
      - SickLeave
      - Other
    TimeEntryDTO:
      type: object
      description: Individual time entry for a specific date.
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the time entry.
        date:
          type: string
          format: date
          description: The date this entry is for.
        hoursWorked:
          type: number
          format: double
          description: Regular hours worked (e.g., 8.0).
        overtimeHours:
          type: number
          format: double
          description: Overtime hours worked (e.g., 2.0).
          default: 0
        projectId:
          type: string
          format: uuid
          nullable: true
          description: Optional project ID this time was logged against.
        taskId:
          type: string
          format: uuid
          nullable: true
          description: Optional task ID within the project.
        note:
          type: string
          nullable: true
          description: Optional note for this entry.
        entryType:
          $ref: '#/components/schemas/TimeEntryTypeEnum'
        isAutoFilled:
          type: boolean
          description: True if this entry was auto-generated from absences/holidays.
          default: false
        absenceRequestId:
          type: string
          format: uuid
          nullable: true
          description: Reference to absence request if entry type is Absence.
        createdAt:
          type: string
          format: date-time
        changedAt:
          type: string
          format: date-time
      required:
      - id
      - date
      - hoursWorked
      - entryType
    TimesheetDTO:
      type: object
      description: Weekly timesheet that goes through approval workflow.
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier for the timesheet.
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        weekStartDate:
          type: string
          format: date
          description: Monday of the week (ISO week start).
        weekEndDate:
          type: string
          format: date
          description: Sunday of the week.
        status:
          $ref: '#/components/schemas/TimesheetStatusEnum'
        entries:
          type: array
          items:
            $ref: '#/components/schemas/TimeEntryDTO'
        totalRegularHours:
          type: number
          format: double
          description: Sum of regular hours for the week.
        totalOvertimeHours:
          type: number
          format: double
          description: Sum of overtime hours for the week.
        submittedAt:
          type: string
          format: date-time
          nullable: true
        submittedBy:
          $ref: '#/components/schemas/EmployeeDTO'
          nullable: true
          description: Employee who submitted (for submit-on-behalf scenarios).
        approvedAt:
          type: string
          format: date-time
          nullable: true
        approvedBy:
          $ref: '#/components/schemas/EmployeeDTO'
          nullable: true
        rejectionNote:
          type: string
          nullable: true
          description: Note explaining why the timesheet was rejected.
        allowedActions:
          type: array
          items:
            type: string
          description: Actions the current user can perform (e.g., SUBMIT, APPROVE, EDIT).
        createdAt:
          type: string
          format: date-time
        changedAt:
          type: string
          format: date-time
      required:
      - id
      - employee
      - weekStartDate
      - weekEndDate
      - status
      - entries
      - totalRegularHours
      - totalOvertimeHours
    TimesheetSummaryDTO:
      type: object
      description: Lightweight timesheet for list views.
      properties:
        id:
          type: string
          format: uuid
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        weekStartDate:
          type: string
          format: date
        weekEndDate:
          type: string
          format: date
        status:
          $ref: '#/components/schemas/TimesheetStatusEnum'
        totalRegularHours:
          type: number
          format: double
        totalOvertimeHours:
          type: number
          format: double
        submittedAt:
          type: string
          format: date-time
          nullable: true
        allowedActions:
          type: array
          items:
            type: string
      required:
      - id
      - employee
      - weekStartDate
      - weekEndDate
      - status
      - totalRegularHours
      - totalOvertimeHours
    TimesheetStatusHistoryDTO:
      type: object
      description: Audit trail entry for timesheet status changes.
      properties:
        status:
          $ref: '#/components/schemas/TimesheetStatusEnum'
        changedAt:
          type: string
          format: date-time
        changedBy:
          $ref: '#/components/schemas/EmployeeDTO'
        note:
          type: string
          nullable: true
    TimeTrackingProjectDTO:
      type: object
      description: Project for time logging.
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          description: Project name.
        description:
          type: string
          nullable: true
        code:
          type: string
          description: Short project code (e.g., PROJ-001).
        isActive:
          type: boolean
          default: true
        hexColor:
          type: string
          description: Hex color for UI display (e.g., #FF5733).
        tasks:
          type: array
          items:
            $ref: '#/components/schemas/TimeTrackingTaskDTO'
        createdAt:
          type: string
          format: date-time
        changedAt:
          type: string
          format: date-time
      required:
      - id
      - name
      - code
      - isActive
    TimeTrackingTaskDTO:
      type: object
      description: Task within a project.
      properties:
        id:
          type: string
          format: uuid
        projectId:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
          nullable: true
        isActive:
          type: boolean
          default: true
      required:
      - id
      - projectId
      - name
      - isActive
    TimeTrackingSettingsDTO:
      type: object
      description: Organization-level time tracking configuration.
      properties:
        submissionDeadlineDayOfWeek:
          type: integer
          nullable: true
          description: Day of week for submission deadline (1=Monday, 7=Sunday). Null means no deadline.
          minimum: 1
          maximum: 7
        submissionDeadlineTime:
          type: string
          nullable: true
          description: Time of day for deadline in HH:mm format.
        autoFillFromAbsences:
          type: boolean
          description: Whether to auto-fill time entries from approved absences.
          default: true
        autoFillFromHolidays:
          type: boolean
          description: Whether to auto-fill time entries for public holidays.
          default: true
        defaultDailyHours:
          type: number
          format: double
          description: Default expected working hours per day.
          default: 8.0
        overtimeThresholdDaily:
          type: number
          format: double
          nullable: true
          description: Hours per day after which overtime is counted. Null means no daily threshold.
        overtimeThresholdWeekly:
          type: number
          format: double
          nullable: true
          description: Hours per week after which overtime is counted. Null means no weekly threshold.
        allowFutureEntries:
          type: boolean
          description: Whether employees can log time for future dates.
          default: false
        requireProjectSelection:
          type: boolean
          description: Whether project selection is mandatory for time entries.
          default: false
    EmployeeTimeTrackingSettingsDTO:
      type: object
      description: Per-employee time tracking configuration.
      properties:
        employeeId:
          type: string
          format: uuid
        supervisorEmployeeIds:
          type: array
          items:
            type: string
          description: IDs of employees who can approve this employee's timesheets.
        superviseeEmployeeIds:
          type: array
          items:
            type: string
          description: IDs of employees whose timesheets this employee can approve.
        defaultDailyHours:
          type: number
          format: double
          nullable: true
          description: Override for default daily hours (null uses org default).
        defaultProjectId:
          type: string
          format: uuid
          nullable: true
          description: Default project for this employee's time entries.
    EmployeeTimeTrackingInfoDTO:
      type: object
      description: Employee with their time tracking module info.
      properties:
        employee:
          $ref: '#/components/schemas/EmployeeDTO'
        settings:
          $ref: '#/components/schemas/EmployeeTimeTrackingSettingsDTO'
        supervisors:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
        supervisees:
          type: array
          items:
            $ref: '#/components/schemas/EmployeeDTO'
    TimeTrackingReportSummaryDTO:
      type: object
      description: Summary report for time tracking data.
      properties:
        periodStart:
          type: string
          format: date
        periodEnd:
          type: string
          format: date
        totalRegularHours:
          type: number
          format: double
        totalOvertimeHours:
          type: number
          format: double
        byEmployee:
          type: array
          items:
            type: object
            properties:
              employee:
                $ref: '#/components/schemas/EmployeeDTO'
              regularHours:
                type: number
                format: double
              overtimeHours:
                type: number
                format: double
        byProject:
          type: array
          items:
            type: object
            properties:
              project:
                $ref: '#/components/schemas/TimeTrackingProjectDTO'
              regularHours:
                type: number
                format: double
              overtimeHours:
                type: number
                format: double
  parameters:
    page:
      name: page
      in: query
      description: The page number of the collection to retrieve.
      required: false
      schema:
        type: integer
        default: 1
        minimum: 1
    pageSize:
      name: pageSize
      in: query
      description: The number of items to return per page.
      required: false
      schema:
        type: integer
        default: 10
        minimum: 1
        maximum: 100
    search:
      name: search
      in: query
      description: The search query to filter the collection by matching resources.
      required: false
      schema:
        type: string
    pathId:
      name: id
      in: path
      required: true
      schema:
        type: string
    years:
      name: years
      in: query
      required: true
      description: Array of years to filter by.
      schema:
        type: array
        items:
          type: integer
    requestStatuses:
      name: requestStatuses
      in: query
      description: Array of request statuses to filter by.
      schema:
        type: array
        items:
          type: string
    filter:
      name: filter
      in: query
      description: JSON string for advanced filtering.
      schema:
        type: string
    sort:
      name: sort
      in: query
      description: Array of sort.
      schema:
        type: string
  responses:
    '400':
      description: The server could not understand the request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProblemDetails'
    '401':
      description: Authorization information is missing or invalid.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProblemDetails'
    '403':
      description: User does not have the right credentials.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProblemDetails'
    '404':
      description: The requested resource was not found.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ProblemDetails'
paths:
  /api/v1/absences/defaults:
    get:
      tags:
      - Absences
      summary: Retrieve absence module defaults
      description: Fetches default configuration for the absence module (e.g., default days for new users).
      responses:
        200:
          description: Absence defaults retrieved successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbsenceDefaultsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Absences
      summary: Update absence module defaults
      description: Updates default configuration for the absence module.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbsenceDefaultsDTO'
      responses:
        200:
          description: Absence defaults updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/balances:
    get:
      tags:
      - Absences
      summary: Retrieve bulk vacation status for employees
      description: Fetches vacation status (total, spent, remaining) for multiple
        employees for current and next year.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - $ref: '#/components/parameters/sort'
      - name: departmentId
        in: query
        schema:
          type: string
        description: Filter by department ID
      - name: year
        in: query
        schema:
          type: integer
        description: The base year to fetch data for (defaults to current year)
      - name: nextYear
        in: query
        schema:
          type: boolean
          default: true
        description: Whether to include data for the next year
      responses:
        200:
          description: Bulk vacation status retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmployeeVacationStatusDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
    patch:
      tags:
      - Absences
      summary: Bulk update vacation balances
      description: Updates vacation balances for multiple employees at once.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                updates:
                  type: array
                  items:
                    type: object
                    properties:
                      employeeId:
                        type: string
                      categoryId:
                        type: string
                      year:
                        type: integer
                      totalDays:
                        type: number
                      usedDays:
                        type: number
                    required:
                    - employeeId
                    - categoryId
      responses:
        200:
          description: Balances updated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  updatedCount:
                    type: integer
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/balances/{employeeId}:
    get:
      tags:
      - Absences
      summary: Retrieve balance for a specific employee
      description: Fetches absence balance data for a specific employee.
      parameters:
      - in: path
        name: employeeId
        required: true
        schema:
          type: string
        description: The unique identifier of the employee.
      - name: year
        in: query
        schema:
          type: integer
        description: The year to fetch data for (defaults to current year)
      responses:
        200:
          description: Employee balance retrieved successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Absences
      summary: Update balance for a specific employee
      description: Updates absence balance data for a specific employee.
      parameters:
      - in: path
        name: employeeId
        required: true
        schema:
          type: string
        description: The unique identifier of the employee.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
      responses:
        200:
          description: Employee balance updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences:
    get:
      summary: List all absence requests
      description: Retrieves a list of all absence requests based on query parameters.
      tags:
      - Absences
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/filter'
      - in: query
        name: employeeId
        schema:
          type: string
      - in: query
        name: startDate
        schema:
          type: string
          format: date
      - in: query
        name: endDate
        schema:
          type: string
          format: date
      - in: query
        name: createdAt
        schema:
          type: string
          format: date-time
      - in: query
        name: changedAt
        schema:
          type: string
          format: date-time
      - in: query
        name: requestStatus
        schema:
          type: string
      - in: query
        name: includeRepresentees
        schema:
          type: boolean
      - in: query
        name: includeRepresentatives
        schema:
          type: boolean
      - in: query
        name: includeSupervisees
        schema:
          type: boolean
      - in: query
        name: includeSupervisors
        schema:
          type: boolean
      - in: query
        name: includeCurrentEmployee
        schema:
          type: boolean
      responses:
        200:
          description: A list of requests
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/AbsenceRequestDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Absences
      summary: Create a new absence request
      description: Allows users to create a new absence request with details such
        as start and end dates, the number of days off, a note, and the type of request.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                employeeId:
                  type: string
                  description: The ID of the employee creating the request.
                startDate:
                  type: string
                  format: date
                  description: Start date of the absence in YYYY-MM-DD format.
                endDate:
                  type: string
                  format: date
                  description: End date of the absence in YYYY-MM-DD format.
                note:
                  type: string
                  description: Additional notes regarding the absence request.
                categoryId:
                  type: string
                  description: The ID of the request category type (e.g., vacation,
                    sick absence).
                subCategoryId:
                  type: string
                  description: The ID of the request sub-category type (e.g., vacation,
                    sick absence).
              required:
              - employeeId
              - startDate
              - endDate
              - note
              - categoryId
      responses:
        201:
          description: Absence request created successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  requestId:
                    type: string
                    description: The ID of the newly created absence request.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    patch:
      tags:
      - Absences
      summary: Bulk update absence requests
      description: Updates multiple absence requests at once.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/BulkVacationUpdateDTO'
      responses:
        200:
          description: Bulk update successful.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/workspace/session:
    get:
      tags:
      - Workspace
      summary: Retrieve current workspace session
      description: Fetches details of a workspace session.
      responses:
        200:
          description: Workspace sessions retrieved successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/WorkspaceSessionDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees:
    get:
      tags:
      - Employees
      summary: List all employees
      description: Retrieves a list of all employees accounts.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - $ref: '#/components/parameters/sort'
      - $ref: '#/components/parameters/filter'
      - in: query
        name: hasProfile
        schema:
          type: boolean
      responses:
        200:
          description: A list of employees
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmployeeDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Employees
      summary: Create a new employee
      description: Creates a new employee with the provided details.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - firstName
              - lastName
              - isFullAccessUser
              properties:
                email:
                  type: string
                  format: email
                  description: The user's email address
                isFullAccessUser:
                  type: boolean
                  description: Flag for creating full access user
                firstName:
                  type: string
                  description: The user's first name.
                lastName:
                  type: string
                  description: The user's last name.
      responses:
        201:
          description: User created successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/400'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
        409:
          description: User already exists.
  /api/v1/employees/{id}:
    get:
      tags:
      - Employees
      summary: Retrieve a user by Employee ID
      description: Fetches details of a user by their Employee ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Employee details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  employeeGeneral:
                    $ref: '#/components/schemas/EmployeeDTO'
                  employeeAbsenceModuleDetails:
                    $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/settings/{id}:
    get:
      tags:
      - Employees
      summary: Retrieve employee's settings by Employee ID
      description: Fetches details of a user by their Employee ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Employee details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  employeeGeneral:
                    $ref: '#/components/schemas/EmployeeDTO'
                  employeeAbsenceModuleDetails:
                    $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Employees
      summary: Update an employees settings
      description: Updates an existing user with the provided details.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  description: The user's first name (optional).
                lastName:
                  type: string
                  description: The user's last name (optional).
                jobTitle:
                  type: string
                  description: The user's job title (optional).
                departmentId:
                  type: string
                  description: The user's team (optional).
                image:
                  type: string
                  description: Optional base64 encoded image of the user.
                supervisorEmployeeIds:
                  type: array
                  items:
                    type: string
                  description: List of supervisor Firebase UIDs to update (optional).
                representativeEmployeeIds:
                  type: array
                  items:
                    type: string
                  description: List of representative Firebase UIDs to update (optional).
                superviseeEmployeeIds:
                  type: array
                  items:
                    type: string
                  description: List of supervisee Firebase UIDs to update (optional).
                requestCategories:
                  type: array
                  description: List of request categories to update (optional).
                  items:
                    $ref: '#/components/schemas/AbsenceCategoryDTO'
                holidaysRegion:
                  type: string
                  description: Holidays region ID (optional).
                employmentDate:
                  type: string
                  format: date
                  description: Employment start date (optional).
                workingState:
                  type: string
                  description: Working state of the employee.
                fte:
                  type: number
                  format: double
                  description: Full Time Equivalent (0.0 - 1.0).
      responses:
        200:
          description: Employee updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    delete:
      tags:
      - Employees
      summary: Delete an employee
      description: Deletes an existing user with the provided employee ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Employee deleted successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/{id}/versions:
    get:
      tags:
      - Employees
      summary: Get employee versions
      description: Returns a list of available history versions.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Versions retrieved successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/EmployeeDataVersionDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
    post:
      tags:
      - Employees
      summary: Create a new version
      description: Creates a new snapshot version of the employee data.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiEmployeesIdVersionsPostRequest'
      responses:
        201:
          description: Version created successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
  /api/v1/employees/details/{id}:
    get:
      tags:
      - Employees
      summary: Retrieve employee details by Employee ID
      description: Fetches detailed information of an employee by their Employee ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - name: versionId
        in: query
        schema:
          type: integer
        description: Optional version ID to retrieve a snapshot
      responses:
        200:
          description: Employee details retrieved successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeDetailsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Employees
      summary: Update employee details
      description: Updates an existing employee with the provided details.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeDetailsDTO'
      responses:
        200:
          description: Employee details updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/filters:
    get:
      tags:
      - Employees
      summary: Retrieve available filters for employees
      description: Returns a list of available filters, including their names, types,
        and options based on the filter type.
      responses:
        200:
          description: Filters retrieved successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/FilterDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/{id}/files:
    get:
      tags:
      - Employees
      summary: Get all files for an employee
      description: Retrieves a list of all files uploaded for a specific employee.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      responses:
        200:
          description: Files retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmployeeFileDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/uploads:
    post:
      tags:
      - Employees
      summary: Get presigned URL for file upload
      description: Returns a presigned POST URL and fields for direct S3 upload.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
              - fileName
              - mimeType
              - fileSize
              properties:
                fileName:
                  type: string
                  description: The name of the file to upload
                mimeType:
                  type: string
                  description: The MIME type of the file
                fileSize:
                  type: integer
                  description: The size of the file in bytes
      responses:
        200:
          description: Presigned URL generated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PresignedUploadDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/{id}/files/{fileId}:
    delete:
      tags:
      - Employees
      summary: Delete an employee file
      description: Deletes a specific file for an employee.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: The employee ID.
      - name: fileId
        in: path
        required: true
        schema:
          type: string
        description: The file ID to delete.
      responses:
        200:
          description: File deleted successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/settings/employees/{id}:
    put:
      tags:
      - Absences
      summary: Update Employee Relationships
      description: Manage supervisors, representees, and supervisees for an employee.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeSettingsDTO'
      responses:
        200:
          description: Relationships updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
  /api/v1/absences/settings/categories:
    get:
      tags:
      - Absences
      summary: Get request categories configuration
      description: Retrieves the list of request categories with their configuration.
      responses:
        200:
          description: List of request categories
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/RequestCategoryConfigDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Absences
      summary: Batch Update Request Categories
      description: Create or update request categories, subcategories, and yearly
        limits.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/RequestCategoryConfigDTO'
      responses:
        200:
          description: Configuration updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
  /api/v1/employees/{id}/files/{fileId}/download:
    get:
      tags:
      - Employees
      summary: Get presigned URL for file download
      description: Returns a temporary presigned S3 URL for downloading the file.
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
        description: The employee ID.
      - name: fileId
        in: path
        required: true
        schema:
          type: string
        description: The file ID to download.
      responses:
        200:
          description: Presigned URL generated successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  presignedUrl:
                    type: string
                    description: Temporary S3 presigned URL for downloading the file
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/profile:
    get:
      tags:
      - Profiles
      summary: Get Profile Information
      description: Retrieves profile information for the current user.
      responses:
        200:
          description: Successful response with profile data.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileDTO'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Profiles
      summary: Update current profile
      description: Updates an existing user with the provided details.
      operationId: updateProfileNotifications
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                jobTitle:
                  type: string
                languageCode:
                  type: string
                avatarBase64:
                  type: string
                  description: Optional base64 encoded image of the user's profile
                    photo.
                notificationsIds:
                  type: array
                  items:
                    type: string
                  description: List of representative Firebase UIDs to update (optional).
      responses:
        200:
          description: Profile updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/{id}:
    get:
      tags:
      - Absences
      summary: Get a specific absence request
      description: Retrieves a specific absence request by its ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Detailed request information.
          content:
            application/json:
              schema:
                properties:
                  request:
                    $ref: '#/components/schemas/AbsenceRequestDTO'
                  requestHistory:
                    type: array
                    items:
                      $ref: '#/components/schemas/RequestStatusHistoryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Absences
      summary: Update a specific absence request
      description: Allows users to update a specific absence request.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  $ref: '#/components/schemas/AbsenceRequestStatusEnum'
                  description: The new status of the request
                note:
                  type: string
                  description: An optional note about the status update
      responses:
        200:
          description: Status updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/employees:
    get:
      tags:
      - Absences
      summary: List all employees in Absence module
      description: Retrieves a list of all employees accounts.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      responses:
        200:
          description: A list of employees
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmployeeDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/employees/{id}:
    get:
      tags:
      - Absences
      summary: Retrieve a employees Absence module data
      description: Fetches employees Absence module data by their Employee ID.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Employee details retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  employeeGeneral:
                    $ref: '#/components/schemas/EmployeeDTO'
                  employeeAbsenceModuleDetails:
                    $ref: '#/components/schemas/EmployeeAbsenceBalanceDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/special-dates:
    get:
      tags:
      - Absences
      summary: Retrieve special dates for specified years
      description: Fetches special dates for the given array of years.
      parameters:
      - $ref: '#/components/parameters/years'
      responses:
        200:
          description: Special dates retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  specialDates:
                    type: array
                    items:
                      $ref: '#/components/schemas/AbsenceSpecialDateDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Absences
      summary: Create a new special date
      description: Creates a new special date.
      requestBody:
        description: Special date object that needs to be added
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbsenceSpecialDateDTO'
      responses:
        200:
          description: Special date created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbsenceSpecialDateDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
    put:
      tags:
      - Absences
      summary: Update a special date
      description: Updates an existing special date.
      requestBody:
        description: Special date object that needs to be updated
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbsenceSpecialDateDTO'
      responses:
        200:
          description: Special date updated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbsenceSpecialDateDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
  /api/v1/absences/special-dates/{id}:
    delete:
      tags:
      - Absences
      summary: Delete a special date
      description: Deletes an existing special date.
      parameters:
      - name: id
        in: path
        description: ID of the special date to delete
        required: true
        schema:
          type: string
      responses:
        200:
          description: Special date deleted successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/categories:
    get:
      tags:
      - Absences
      summary: List all request categories
      description: Retrieves a list of all request categories.
      responses:
        200:
          description: List of request categories
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AbsenceCategorySettingsDTO'
        401:
          $ref: '#/components/responses/401'
    post:
      tags:
      - Absences
      summary: Create a new request category
      description: Creates a new request category.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbsenceCategorySettingsDTO'
      responses:
        201:
          description: Request category created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbsenceCategorySettingsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
  /api/v1/absences/categories/{id}:
    put:
      tags:
      - Absences
      summary: Update a request category
      description: Updates an existing request category.
      parameters:
      - name: id
        in: path
        description: ID of the request category to update
        required: true
        schema:
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AbsenceCategorySettingsDTO'
      responses:
        200:
          description: Request category updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AbsenceCategorySettingsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        404:
          $ref: '#/components/responses/404'
    delete:
      tags:
      - Absences
      summary: Delete a request category
      description: Deletes an existing request category.
      parameters:
      - name: id
        in: path
        description: ID of the request category to delete
        required: true
        schema:
          type: string
      responses:
        200:
          description: Request category deleted successfully
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/date-ranges:
    get:
      tags:
      - Absences
      summary: Retrieve date range elements for employees
      description: Fetches a list of date range elements for all employees.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - $ref: '#/components/parameters/requestStatuses'
      - $ref: '#/components/parameters/years'
      - $ref: '#/components/parameters/filter'
      - $ref: '#/components/parameters/sort'
      responses:
        200:
          description: Gantt date range elements retrieved successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  properties:
                    employee:
                      $ref: '#/components/schemas/EmployeeDTO'
                    dateRanges:
                      type: array
                      items:
                        $ref: '#/components/schemas/AbsenceRequestDateRangeDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/date-ranges/employees/{id}:
    get:
      tags:
      - Absences
      summary: Retrieve date range elements for specific employee
      description: Fetches a list of date range elements for specific employee.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - $ref: '#/components/parameters/requestStatuses'
      - $ref: '#/components/parameters/years'
      responses:
        200:
          description: Date range elements retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  dateRanges:
                    type: array
                    items:
                      $ref: '#/components/schemas/AbsenceRequestDateRangeDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/settings/teams:
    get:
      tags:
      - Employees
      summary: Retrieve teams/departments
      description: Fetches all teams (departments) for employee organization.
      responses:
        200:
          description: Teams retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/DepartmentDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Employees
      summary: Create a new team
      description: Creates a new team (department) for employee organization.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DepartmentDTO'
      responses:
        201:
          description: Team created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DepartmentDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Employees
      summary: Update teams
      description: Updates teams (departments) configuration.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/DepartmentDTO'
      responses:
        200:
          description: Teams updated successfully.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/alarms/settings:
    get:
      tags:
      - Employees
      summary: Retrieve alarm settings
      description: Fetches alarm settings.
      responses:
        200:
          description: Alarm settings retrieved successfully.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AlarmConfigDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Employees
      summary: Create a new alarm
      description: Creates a new alarm with the provided details.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/AlarmConfigDTO'
      responses:
        201:
          description: Alarm created successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  alarmId:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/alarms/notifications:
    get:
      tags:
      - Employees
      summary: Retrieve alarm notifications
      description: Fetches alarm notifications. Can be filtered by employee ID.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - in: query
        name: employeeIds
        description: Array of employee IDs to filter notifications by. Can be passed
          as repeated query params (?employeeIds=1&employeeIds=2) or a comma-separated
          list (?employeeIds=1,2).
        required: false
        schema:
          type: array
          items:
            type: string
      responses:
        200:
          description: Alarm notifications retrieved successfully.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/AlarmNotificationDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/export/work-schedule:
    get:
      tags:
      - Export
      summary: Export organisation work schedule to file
      description: Downloads an Excel file containing the working days data for the
        all employees.
      parameters:
      - in: query
        name: month
        schema:
          type: integer
      - in: query
        name: year
        schema:
          type: integer
      - in: query
        name: fileFormat
        schema:
          type: string
      - $ref: '#/components/parameters/sort'
      - $ref: '#/components/parameters/filter'
      responses:
        200:
          description: Excel file containing the days off data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/export/employees-data:
    get:
      tags:
      - Export
      summary: Export organisation employee go data to file
      description: Downloads an Excel file containing the employee go data for the
        all employees.
      parameters:
      - in: query
        name: month
        schema:
          type: integer
      - in: query
        name: year
        schema:
          type: integer
      - in: query
        name: fileFormat
        schema:
          type: string
      - $ref: '#/components/parameters/sort'
      - $ref: '#/components/parameters/filter'
      responses:
        200:
          description: Excel file containing the days off data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/export/requests:
    get:
      tags:
      - Export
      summary: Export organisation absence requests to file
      description: Downloads an Excel file containing the days off data for the all
        employees.
      parameters:
      - in: query
        name: status
        schema:
          type: array
          items:
            type: string
      - in: query
        name: month
        schema:
          type: integer
      - in: query
        name: year
        schema:
          type: integer
      - in: query
        name: fileFormat
        schema:
          type: string
      responses:
        200:
          description: Excel file containing the days off data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/absences/export/requests/{id}:
    get:
      tags:
      - Absences
      summary: Export organisation absence requests to file
      description: Downloads an Excel file containing the days off data for the all
        employees.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - in: query
        name: fileFormat
        schema:
          type: string
      responses:
        200:
          description: Excel file containing the days off data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/export/data:
    get:
      tags:
      - Employees
      summary: Export all employee data to file
      description: Downloads an Excel file containing the employee data.
      parameters:
      - in: query
        name: fileFormat
        schema:
          type: string
      - $ref: '#/components/parameters/sort'
      - $ref: '#/components/parameters/filter'
      responses:
        200:
          description: Excel file containing the employee data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/employees/{id}/export/data:
    get:
      tags:
      - Employees
      summary: Export employee data to file
      description: Downloads an Excel file containing the employee data.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - in: query
        name: fileFormat
        schema:
          type: string
      responses:
        200:
          description: Excel file containing the employee data.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'

  /api/v1/timetracking/timesheets:
    get:
      tags:
      - Timesheets
      summary: List timesheets
      description: Retrieves a list of timesheets with optional filters.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/sort'
      - $ref: '#/components/parameters/filter'
      - name: employeeId
        in: query
        schema:
          type: string
        description: Filter by employee ID.
      - name: status
        in: query
        schema:
          type: array
          items:
            type: string
        description: Filter by timesheet status.
      - name: weekStartDate
        in: query
        schema:
          type: string
          format: date
        description: Filter by week start date.
      - name: fromDate
        in: query
        schema:
          type: string
          format: date
        description: Filter timesheets from this date onwards.
      - name: toDate
        in: query
        schema:
          type: string
          format: date
        description: Filter timesheets up to this date.
      - name: includeSupervisees
        in: query
        schema:
          type: boolean
        description: Include timesheets of employees current user supervises.
      responses:
        200:
          description: List of timesheets.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimesheetSummaryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
    post:
      tags:
      - Timesheets
      summary: Create or get timesheet for a week
      description: Creates a new timesheet for the specified week, or returns existing if already created. Can pre-fill entries.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                employeeId:
                  type: string
                  description: Employee ID (required for creating on behalf of others).
                weekStartDate:
                  type: string
                  format: date
                  description: Monday of the week to create timesheet for.
                prefill:
                  type: boolean
                  default: true
                  description: Whether to pre-fill entries from absences and holidays.
              required:
              - weekStartDate
      responses:
        200:
          description: Existing timesheet returned.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        201:
          description: New timesheet created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/timesheets/{id}:
    get:
      tags:
      - Timesheets
      summary: Get timesheet details
      description: Retrieves a specific timesheet with all entries and status history.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Timesheet details.
          content:
            application/json:
              schema:
                type: object
                properties:
                  timesheet:
                    $ref: '#/components/schemas/TimesheetDTO'
                  statusHistory:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimesheetStatusHistoryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Timesheets
      summary: Update timesheet entries
      description: Updates time entries for a timesheet. Only allowed when status is Draft or RevisionRequested.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                entries:
                  type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        description: Entry ID (omit for new entries).
                      date:
                        type: string
                        format: date
                      hoursWorked:
                        type: number
                        format: double
                      overtimeHours:
                        type: number
                        format: double
                      projectId:
                        type: string
                        nullable: true
                      taskId:
                        type: string
                        nullable: true
                      note:
                        type: string
                        nullable: true
                      entryType:
                        $ref: '#/components/schemas/TimeEntryTypeEnum'
              required:
              - entries
      responses:
        200:
          description: Timesheet updated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/timesheets/{id}/submit:
    post:
      tags:
      - Timesheets
      summary: Submit timesheet for approval
      description: Changes timesheet status from Draft to Submitted.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: string
                  description: Optional note for the approver.
      responses:
        200:
          description: Timesheet submitted successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/timesheets/{id}/approve:
    post:
      tags:
      - Timesheets
      summary: Approve timesheet
      description: Approves a submitted timesheet.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: string
                  description: Optional approval note.
      responses:
        200:
          description: Timesheet approved successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/timesheets/{id}/reject:
    post:
      tags:
      - Timesheets
      summary: Reject timesheet
      description: Rejects a submitted timesheet.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: string
                  description: Reason for rejection.
              required:
              - note
      responses:
        200:
          description: Timesheet rejected.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/timesheets/{id}/request-revision:
    post:
      tags:
      - Timesheets
      summary: Request revision
      description: Requests changes to a submitted timesheet without fully rejecting it.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                note:
                  type: string
                  description: Description of changes needed.
              required:
              - note
      responses:
        200:
          description: Revision requested.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimesheetDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  # ========================================
  # Time Entries
  # ========================================
  /api/v1/timetracking/entries:
    get:
      tags:
      - TimeEntries
      summary: List time entries
      description: Retrieves time entries with filters, useful for reports.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/filter'
      - name: employeeId
        in: query
        schema:
          type: string
      - name: projectId
        in: query
        schema:
          type: string
      - name: fromDate
        in: query
        schema:
          type: string
          format: date
      - name: toDate
        in: query
        schema:
          type: string
          format: date
      - name: entryType
        in: query
        schema:
          type: array
          items:
            type: string
      responses:
        200:
          description: List of time entries.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimeEntryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/entries/prefill:
    post:
      tags:
      - TimeEntries
      summary: Generate pre-filled entries
      description: Generates time entries for a date range based on absences, holidays, and defaults.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                employeeId:
                  type: string
                  description: Employee to generate entries for.
                startDate:
                  type: string
                  format: date
                endDate:
                  type: string
                  format: date
                includeAbsences:
                  type: boolean
                  default: true
                includeHolidays:
                  type: boolean
                  default: true
                defaultHours:
                  type: number
                  format: double
                  description: Hours to fill for working days (uses settings default if not provided).
              required:
              - employeeId
              - startDate
              - endDate
      responses:
        200:
          description: Pre-filled entries generated.
          content:
            application/json:
              schema:
                type: object
                properties:
                  entries:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimeEntryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  # ========================================
  # Projects & Tasks
  # ========================================
  /api/v1/timetracking/projects:
    get:
      tags:
      - Projects
      summary: List projects
      description: Retrieves all time tracking projects.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - name: isActive
        in: query
        schema:
          type: boolean
        description: Filter by active status.
      responses:
        200:
          description: List of projects.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimeTrackingProjectDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
    post:
      tags:
      - Projects
      summary: Create project
      description: Creates a new time tracking project.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                code:
                  type: string
                hexColor:
                  type: string
                isActive:
                  type: boolean
                  default: true
              required:
              - name
              - code
      responses:
        201:
          description: Project created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingProjectDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/projects/{id}:
    get:
      tags:
      - Projects
      summary: Get project details
      description: Retrieves a specific project with its tasks.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Project details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingProjectDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - Projects
      summary: Update project
      description: Updates an existing project.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                code:
                  type: string
                hexColor:
                  type: string
                isActive:
                  type: boolean
      responses:
        200:
          description: Project updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingProjectDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    delete:
      tags:
      - Projects
      summary: Delete project
      description: Deactivates a project (soft delete).
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Project deleted.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/projects/{id}/tasks:
    get:
      tags:
      - Projects
      summary: List tasks for project
      description: Retrieves all tasks for a specific project.
      parameters:
      - $ref: '#/components/parameters/pathId'
      - name: isActive
        in: query
        schema:
          type: boolean
      responses:
        200:
          description: List of tasks.
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/TimeTrackingTaskDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        404:
          $ref: '#/components/responses/404'
    post:
      tags:
      - Projects
      summary: Create task
      description: Creates a new task within a project.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                isActive:
                  type: boolean
                  default: true
              required:
              - name
      responses:
        201:
          description: Task created.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingTaskDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/tasks/{id}:
    put:
      tags:
      - Projects
      summary: Update task
      description: Updates an existing task.
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                isActive:
                  type: boolean
      responses:
        200:
          description: Task updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingTaskDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    delete:
      tags:
      - Projects
      summary: Delete task
      description: Deactivates a task (soft delete).
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Task deleted.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  # ========================================
  # Employee Settings (Hierarchy)
  # ========================================
  /api/v1/timetracking/employees:
    get:
      tags:
      - EmployeeSettings
      summary: List employees with TT settings
      description: Retrieves employees with their time tracking module configuration.
      parameters:
      - $ref: '#/components/parameters/page'
      - $ref: '#/components/parameters/pageSize'
      - $ref: '#/components/parameters/search'
      - $ref: '#/components/parameters/filter'
      responses:
        200:
          description: List of employees with settings.
          content:
            application/json:
              schema:
                type: object
                properties:
                  pagination:
                    $ref: '#/components/schemas/Pagination'
                  items:
                    type: array
                    items:
                      $ref: '#/components/schemas/EmployeeTimeTrackingInfoDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/employees/{id}:
    get:
      tags:
      - EmployeeSettings
      summary: Get employee TT settings
      description: Retrieves time tracking settings for a specific employee.
      parameters:
      - $ref: '#/components/parameters/pathId'
      responses:
        200:
          description: Employee time tracking settings.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeTimeTrackingInfoDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
    put:
      tags:
      - EmployeeSettings
      summary: Update employee TT settings
      description: Updates time tracking settings for an employee (supervisors, defaults, etc.).
      parameters:
      - $ref: '#/components/parameters/pathId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmployeeTimeTrackingSettingsDTO'
      responses:
        200:
          description: Settings updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EmployeeTimeTrackingInfoDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
        404:
          $ref: '#/components/responses/404'
  /api/v1/timetracking/employees/sync-from-absences:
    post:
      tags:
      - EmployeeSettings
      summary: Sync hierarchy from absences
      description: Copies supervisor/supervisee relationships from the Absences module.
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                overwriteExisting:
                  type: boolean
                  default: false
                  description: Whether to overwrite existing relationships or only fill empty ones.
      responses:
        200:
          description: Hierarchy synced.
          content:
            application/json:
              schema:
                type: object
                properties:
                  updatedCount:
                    type: integer
                    description: Number of employees updated.
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  # ========================================
  # Module Settings
  # ========================================
  /api/v1/timetracking/settings:
    get:
      tags:
      - Settings
      summary: Get module settings
      description: Retrieves organization-level time tracking settings.
      responses:
        200:
          description: Time tracking settings.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingSettingsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
    put:
      tags:
      - Settings
      summary: Update module settings
      description: Updates organization-level time tracking configuration.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TimeTrackingSettingsDTO'
      responses:
        200:
          description: Settings updated.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingSettingsDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  # ========================================
  # Reports & Export
  # ========================================
  /api/v1/timetracking/reports/summary:
    get:
      tags:
      - Reports
      summary: Get summary report
      description: Generates a summary report of time tracking data.
      parameters:
      - name: fromDate
        in: query
        required: true
        schema:
          type: string
          format: date
      - name: toDate
        in: query
        required: true
        schema:
          type: string
          format: date
      - name: employeeId
        in: query
        schema:
          type: string
      - name: projectId
        in: query
        schema:
          type: string
      - name: departmentId
        in: query
        schema:
          type: string
      - name: groupBy
        in: query
        schema:
          type: string
          enum:
          - employee
          - project
          - department
          - week
          - month
      responses:
        200:
          description: Summary report.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TimeTrackingReportSummaryDTO'
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/export/timesheets:
    get:
      tags:
      - Export
      summary: Export timesheets
      description: Exports timesheets to Excel or CSV.
      parameters:
      - name: fromDate
        in: query
        schema:
          type: string
          format: date
      - name: toDate
        in: query
        schema:
          type: string
          format: date
      - name: status
        in: query
        schema:
          type: array
          items:
            type: string
      - name: employeeId
        in: query
        schema:
          type: string
      - name: fileFormat
        in: query
        schema:
          type: string
          enum:
          - xlsx
          - csv
          default: xlsx
      - $ref: '#/components/parameters/filter'
      - $ref: '#/components/parameters/sort'
      responses:
        200:
          description: Export file.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'
  /api/v1/timetracking/export/entries:
    get:
      tags:
      - Export
      summary: Export time entries
      description: Exports time entries to Excel or CSV.
      parameters:
      - name: fromDate
        in: query
        schema:
          type: string
          format: date
      - name: toDate
        in: query
        schema:
          type: string
          format: date
      - name: employeeId
        in: query
        schema:
          type: string
      - name: projectId
        in: query
        schema:
          type: string
      - name: fileFormat
        in: query
        schema:
          type: string
          enum:
          - xlsx
          - csv
          default: xlsx
      - $ref: '#/components/parameters/filter'
      - $ref: '#/components/parameters/sort'
      responses:
        200:
          description: Export file.
          content:
            application/octet-stream:
              schema:
                type: object
                properties:
                  filename:
                    type: string
                  fileContent:
                    type: string
        400:
          $ref: '#/components/responses/400'
        401:
          $ref: '#/components/responses/401'
        403:
          $ref: '#/components/responses/403'

